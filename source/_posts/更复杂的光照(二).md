---
title: 更复杂的光照(二)
date: 2022-02-18 11:53:30
tags: Light
categories: Unity Shader
---

## Unity 的光源类型 ##

Unity 一共支持 4 种光源类型：**平行光(directional light)**、**点光源(point light)**、**聚光灯(spot light)**和**面光源(area light)**。面光源仅在烘焙时才可发挥作用，因此不在本节讨论范围内。

#### 光源类型有什么影响 ####

Shader 中使用的光源属性最常用的有光源的**位置、方向**(更具体的说就是到某点的方向)**、颜色、强度以及衰减**(更具体的说就是，到某点的衰减，与该点到光源的距离有关)。这些属性和光源的几何定义息息相关。

###### 1. 平行光 ######

平行光可以照亮的范围没有限制，它通常作为太阳这样的角色在场景中出现。平行光没有唯一的位置，它可以放在场景中的任意位置。它的几何属性只有方向，而且平行光到场景中的所有点的方向都是一样的。除此之外，由于平行光没有一个具体的位置，因此也没有衰减的概念，也就是说，光照强度不会随着距离而发生改变。

![平行光](/posts_image/MoreComplexLighting/MoreComplexLighting_3.png "平行光")

###### 2. 点光源 ######

点光源的照亮空间时有限的，它由空间中的一个球体定义。点光源可以表示由一个点发出的、向所有方向延伸的光。球体的半径可以由面板中的 Range 属性来调整，也可以在 Scene 视图中直接拖拉点光源的线框来修改。点光源有位置属性，由点光源的 Transform 组件中的 Position 属性定义。对于方向属性，我们需要用点光源的位置减去某点的位置来得到它到该点的方向。而点光源的颜色和方向可以在 Light 组件中调整。同时，点光源也是会衰减的，随着物体逐渐远离点光源，它接收到的光照强度也会逐渐减小。点光源球心处的光照强度最强，球体边界处的最弱，值为 0。其中间的衰减值可以由一个函数定义。

![点光源](/posts_image/MoreComplexLighting/MoreComplexLighting_4.png "点光源")

###### 3. 聚光灯 ######

聚光灯的照亮空间同样是有限的，是由空间中的一块锥形区域定义的。聚光灯可以用于表示由一个特定位置出发、向特定方向延伸的光。这块锥形区域的半径由面板中的 Range 属性决定，而锥体的张开角度由 Spot Angle 属性决定。我们同样也可以在 Scene 视图中直接拖拉聚光灯的线框来修改它的属性。聚光灯的位置同样是由 Transform 组件中的 Position 属性定义的。对于方向属性，我们需要用聚光灯的位置减去某点的位置来得到它到该点的方向。聚光灯的衰减也是随着物体逐渐远离点光源而逐渐减小，在锥形的顶点处光照强度最强，在锥形的边界处强度为 0。其中间的衰减值可以由一个函数定义，这个函数相对于点光源衰减计算公式要更加复杂，因为我们需要判断一个点是否在锥体的范围内。

![聚光灯](/posts_image/MoreComplexLighting/MoreComplexLighting_5.png "聚光灯")